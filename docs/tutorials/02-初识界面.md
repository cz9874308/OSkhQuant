# 第 2 课：初识界面

> ⏱ **课时**：20 分钟  
> 🎯 **学习目标**：认识 OSkhQuant 主界面的各个区域，理解它们的功能  
> 📚 **难度**：⭐ 完全入门

---

## 📖 课程概览

上一课我们完成了环境搭建，软件已经成功运行了。现在让我们来认识一下 OSkhQuant 的"长相"——它的主界面。

就像第一次去一个新城市，我们先要看看地图，了解东南西北。今天这节课，就是带你熟悉 OSkhQuant 这座"量化城市"的地图。

---

## 2.1 整体布局：三栏式设计

打开 OSkhQuant，你会看到一个清晰的 **三栏式布局**：

```
┌────────────────────────────────────────────────────────────────┐
│                        顶部工具栏                               │
├────────────────┬────────────────────┬──────────────────────────┤
│                │                    │                          │
│   左侧面板     │     中间面板       │      右侧面板            │
│   (配置)       │     (控制)         │      (反馈)              │
│                │                    │                          │
├────────────────┴────────────────────┴──────────────────────────┤
│                        底部状态栏                               │
└────────────────────────────────────────────────────────────────┘
```

### 一个生活化的比喻 🍳

这三个区域就像做饭的三个步骤：

| 区域 | 做饭比喻 | 实际功能 |
|-----|---------|----------|
| 左侧面板 | 准备食材（选什么菜、放多少盐） | 配置策略参数 |
| 中间面板 | 开火做饭（大火还是小火） | 控制运行方式 |
| 右侧面板 | 观察成果（熟了没、糊了没） | 查看运行状态 |

---

## 2.2 顶部工具栏：常用快捷操作

工具栏就像手机的快捷方式，把最常用的功能放在最显眼的位置。

### 核心按钮说明

| 按钮 | 功能 | 使用场景 |
|-----|------|---------|
| **加载配置** | 打开已保存的 `.kh` 工程文件 | 想继续之前的工作 |
| **保存配置** | 保存当前所有设置 | 配置完成后保存 |
| **配置另存为** | 保存为新文件 | 想创建配置副本 |
| **开始运行** | 启动回测 | 参数配好后点这里 |
| **停止运行** | 终止回测 | 想中途停止 |
| **数据** | 打开数据中心 | 需要下载历史数据 |
| **设置** | 打开软件设置 | 修改 MiniQMT 路径等 |

### 状态指示灯

工具栏右边有个小圆点，这是 **MiniQMT 连接状态指示灯**：

- 🟢 **绿色** = 已连接，万事俱备
- 🔴 **红色** = 未连接，需要检查

> 💡 **小技巧**  
> 每次启动软件后，第一件事就是看这个灯。红灯的话，先解决连接问题再继续。

---

## 2.3 左侧面板：策略配置区

这是你花最多时间的地方——配置你的策略和回测参数。

### 策略配置

```
┌─────────────────────────────┐
│ 策略配置                     │
├─────────────────────────────┤
│ 策略文件: [选择策略文件]     │
│ 运行模式: ◉ 回测             │
└─────────────────────────────┘
```

- **策略文件**：点击按钮选择你的 `.py` 策略脚本
- **运行模式**：当前只支持回测模式（未来可能支持实盘）

### 回测参数

```
┌─────────────────────────────┐
│ 回测参数                     │
├─────────────────────────────┤
│ 基准合约: sh.000300         │
│ 最低佣金(元): 5             │
│ 佣金比例: 0.00025           │
│ 卖出印花税: 0.001           │
│ 开始日期: 2024-01-01        │
│ 结束日期: 2024-12-31        │
└─────────────────────────────┘
```

**常见问题解答**：

| 参数 | 是什么意思？ |
|-----|------------|
| 基准合约 | 用来对比的指数，一般用沪深300 |
| 佣金 | 买卖股票时券商收的服务费 |
| 印花税 | 卖出股票时国家收的税（只收卖出） |
| 滑点 | 模拟真实交易中价格的小幅波动 |

### 数据设置

```
┌─────────────────────────────┐
│ 数据设置                     │
├─────────────────────────────┤
│ 复权方式: 前复权             │
│ 周期类型: ◉ 1m  ○ 5m  ○ 1d  │
└─────────────────────────────┘
```

- **复权方式**：处理股票分红送股对价格的影响
- **周期类型**：策略使用的 K 线周期（1分钟/5分钟/日线）

### 股票池设置

```
┌─────────────────────────────┐
│ 股票池设置                   │
├─────────────────────────────┤
│ ☐ 沪深300  ☐ 中证500        │
│ ☑ 自选清单                   │
│ ┌─────────────────────────┐ │
│ │ 000001.SZ  平安银行      │ │
│ │ 600519.SH  贵州茅台      │ │
│ └─────────────────────────┘ │
└─────────────────────────────┘
```

你可以选择：
- 勾选现成的指数成分股
- 使用自己的自选股列表
- 手动添加股票代码

---

## 2.4 中间面板：运行控制区

这个区域控制策略"什么时候"运行。

### 触发方式设置

```
┌─────────────────────────────┐
│ 触发方式设置                 │
├─────────────────────────────┤
│ 触发类型:                    │
│ ○ Tick触发                   │
│ ◉ K线触发                    │
│ ○ 自定义定时触发             │
└─────────────────────────────┘
```

**三种触发方式的区别**：

| 类型 | 含义 | 适用场景 |
|-----|------|---------|
| Tick 触发 | 每个 Tick 都执行策略 | 对延迟敏感的策略 |
| K 线触发 | 每根 K 线形成时执行 | 大多数情况用这个 |
| 自定义定时 | 特定时间点执行 | 定时选股等 |

> 💡 **新手建议**  
> 刚开始学习，用"K 线触发"就够了。

### 账户信息

```
┌─────────────────────────────┐
│ 虚拟账户                     │
├─────────────────────────────┤
│ 初始资金: 1,000,000 元       │
│ 最小交易量: 100 股           │
└─────────────────────────────┘
```

- **初始资金**：回测时假设你有多少钱
- **最小交易量**：A 股最小交易单位是 100 股

---

## 2.5 右侧面板：信息反馈区

这是你观察策略运行情况的"监控屏幕"。

### 系统日志

```
┌─────────────────────────────────────────┐
│ 系统日志                                 │
├─────────────────────────────────────────┤
│ [INFO] 2024-01-01 09:30:00 策略启动     │
│ [DEBUG] 加载股票池: 3 只股票            │
│ [TRADE] 买入 000001.SZ 1000股 @10.50    │
│ [WARNING] 资金不足，跳过本次交易         │
│ [ERROR] 数据获取失败                     │
└─────────────────────────────────────────┘
```

**日志颜色含义**：

| 颜色 | 级别 | 含义 |
|-----|------|------|
| 灰色 | DEBUG | 调试信息 |
| 白色 | INFO | 正常信息 |
| 黄色 | WARNING | 警告 |
| 红色 | ERROR | 错误 |
| 绿色 | TRADE | 交易信息 |

### 日志操作按钮

- **清空日志**：清除当前显示的日志
- **保存日志**：导出日志到文件
- **打开回测指标**：查看回测结果报告（回测结束后可用）

---

## 2.6 底部状态栏

界面最下方是状态栏，显示：
- 当前操作状态（如"准备就绪"、"策略运行中"）
- 回测进度条

当回测运行时，你可以在这里看到进度百分比，不用干等着猜。

---

## 💡 实践任务

现在轮到你动手探索了！

### 任务 1：浏览界面
- [ ] 启动 OSkhQuant，确认看到三栏布局
- [ ] 找到工具栏上的所有按钮
- [ ] 确认 MiniQMT 连接状态灯是绿色

### 任务 2：尝试配置
- [ ] 在左侧面板点击"选择策略文件"，看看会打开什么
- [ ] 修改"初始资金"为 50 万
- [ ] 尝试在股票池添加一只股票

### 任务 3：观察日志区
- [ ] 点击"测试日志"按钮
- [ ] 观察不同颜色的日志信息
- [ ] 使用日志级别过滤器（勾选/取消 DEBUG、INFO 等）

---

## 📌 核心要点总结

今天你学到了：

1. **三栏布局**：左配置、中控制、右反馈
2. **工具栏**：加载/保存配置、开始/停止运行、数据中心、设置
3. **状态指示灯**：🟢 连接成功，🔴 连接失败
4. **左侧面板**：策略文件、回测参数、数据设置、股票池
5. **中间面板**：触发方式、初始资金
6. **右侧面板**：系统日志，不同颜色代表不同信息级别

---

## ➡️ 下一课预告

**第 3 课：第一个回测** 🚀

认识完界面，是时候动真格的了！下一课我们将：
- 加载一个示例策略
- 配置回测参数
- 点击"开始运行"，见证你的第一次回测！

准备好了吗？Let's go! 🎉
